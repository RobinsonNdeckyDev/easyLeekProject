
  
    <div class="py-4 px-4">
      <h5 class="navTitle text-center fw-bold "><a href="" routerLink="plats" class="my-3">Liste des Plats</a></h5>     
       <div class="d-flex justify-content-between">
        <div>
          <button class="btn fw-bold  boutonajouter-plat " data-bs-toggle="modal" data-bs-target="#ajoutPlat">Ajouter un
            plat
          </button>
          <!-- <button class="btn" (click)="showArchivedPlats()">Show Archived Plats</button> -->

        </div>
        <div class="d-flex justify-content-between gap-3">
          <div class="mb-3">
            <label for="menu"></label>
            <select class="bg-white" id="menu" name="menu_id" [(ngModel)]="menu_id" (change)="onMenuChange()" required>
              <option value="" disabled selected>Choisissez un type de menu</option>
              <option *ngFor="let menuTitre of menus" [value]="menuTitre.id">{{ menuTitre.titre }}</option>
            </select>
          </div>
            <div class=" search input-group mb-3">
              <input type="text" class="form-control inputPorteur" [(ngModel)]="searchPlats" (input)="filterPlats()">
              <button class="input-group-text iconsearch" id="basic-addon1" (click)="filterPlats()"><i
                  class="bi bi-search text-white"></i></button>
            </div>
        </div>
      </div>
    </div>
    <!-- les contenue de la page avec les carte -->
    <div class="container mt-4 mb-5">
      <!-- *ngFor="let plat of plats" -->
      <div class="row">
        <div class="col-12 col-md-4" *ngFor="let plat of paginatedPlats">
          <div class="card border mb-2 rounded-4">
            <img src="{{plat.image}}" class="imagePLat" style="width: 100%; height: 200px;" alt="Image article">
            <div class="bodyArticle px-4">
              <h3 class="mt-3 text-center">{{ plat.libelle }}</h3>
              <p class="limited-height">{{ plat.descriptif }}</p>
              <div class="btnArticle mb-3 d-flex justify-content-center gap-3">
                <!-- (click)="showPlatDetails(plat)" -->
                <button class="btn boutonajouter-plat" data-bs-toggle="modal" data-bs-target="#exampledetailsplats"
                  (click)="showDetailsModal(plat.id)">Détails</button>
                <!-- (click)="editPlat(plat)" -->
                <!-- <button class="btn mx-3 boutonmodif-blog" data-bs-toggle="modal" data-bs-target="#editPlatModal"
                  (click)="editmenuModal(plat.id)">Modifier</button> -->
                <!-- (click)="deletePlat(plat.id ?? -1)" -->
                <button class="btn boutonsupprim-blog btn-light " (click)="supprimerPlat(plat.id)">Supprimer</button>
                <!-- <button class="btn boutonsupprim-blog" (click)="archiver(plat.id)">Archiver</button> -->

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- section de resto avec ces cartes -->
    <!-- pagination  -->
    <div class="pagin d-flex justify-content-center">
      <nav aria-label="Page navigation example">
        <ul class="pagination">
          <li class="page-item" [class.disabled]="currentPagePlats === 1">
            <a class="page-link" (click)="changePagePlats(-1)" aria-label="Précédent">
              <span aria-hidden="true">&laquo;</span>
            </a>
          </li>
          <li class="page-item" *ngFor="let page of getPageNumbersPlats()" [class.active]="currentPagePlats === page">
            <a class="page-link" (click)="changePagePlats(page)">{{ page }}</a>
          </li>
          <li class="page-item" [class.disabled]="currentPagePlats === getTotalPagesPlats()">
            <a class="page-link" (click)="changePagePlats(1)" aria-label="Suivant">
              <span aria-hidden="true">&raquo;</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <!-- les contenue de la page avec les carte -->
    <!-- debut model d'ajoute d'un plat dans le blog -->
    <div class="modal fade" id="ajoutPlat" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title w-100 fs-4 titreAjout text-center">Ajouter un Plat</h1>
            <button type="button" class="btn btn-closeAjout" data-bs-dismiss="modal" id="close-modal"><i
                class="bi bi-x-lg"></i></button>
          </div>
          <div class="modal-body">
            <form class="ajoutArticle" (ngSubmit)="save()" enctype="multipart/form-data">
              <div class="mb-3">
                <label for="titreArticle">Nom du plat:</label>
                <input class="form-control" type="text" id="titreArticle" name="libelle" [(ngModel)]="libelle" required>
              </div>
              <div class="mb-3">
                <label for="titreArticle">Prix:</label>
                <input class="form-control" type="number" id="titreArticle" name="prix" [(ngModel)]="prix" required>
              </div>

              <div class="mb-4">
                <label for="inputImage" class="form-label">Image</label>
                <input type="file" class="form-control" id="inputGroupFile02" name="image" [(ngModel)]="image"
                  (change)="upload($event)" accept="image/*">
              </div>

              <div class="mb-3">
                <label for="descriptionArticle">Description:</label>
                <textarea class="form-control description-article" type="text" id="descriptif" name="descriptif"
                  [(ngModel)]="descriptif" required></textarea>
              </div>

              <div class="mb-3">
                <label for="menu">Type de menu:</label><br>
                <select id="menu" name="menuPlat" [(ngModel)]="menuPlat">
                  <option *ngFor="let menuTitre of menus" value="{{menuTitre.id}}" (click)="test(menuTitre.id)">{{
                    menuTitre.titre }}</option>
                </select>
              </div>
              <div class="d-flex justify-content-end gap-3">
                <button class="btn btn-add boutonajouter-plat" type="submit" data-bs-dismiss="modal">Ajouter</button>
                <button class="btn btn-add  btn-light" data-bs-dismiss="modal">Annuler</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- fin du model d'ajoute d'un article dans le blog -->

    <!-- modal pour modifier un plat  -->
    <div class="modal fade" id="editPlatModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title w-100 fs-4 titreAjout text-center">Modifier un Plat</h1>
            <button type="button" class="btn btn-closeAjout" data-bs-dismiss="modal" id="close-modal"><i
                class="bi bi-x-lg"></i></button>
          </div>
          <div class="modal-body">
            <form class="ajoutArticle" (ngSubmit)="modifierPlat(newPlat)" enctype="multipart/form-data">
              <div class="mb-3">
                <label for="titreArticle">Nouvelle Nom:</label>
                <input class="form-control" type="text" id="titreArticle" name="libelle" [(ngModel)]="libelle" required>
              </div>
              <div class="mb-3">
                <label for="titreArticle">Nouvelle Prix:</label>
                <input class="form-control" type="number" id="titreArticle" name="prix" [(ngModel)]="prix" required>
              </div>

              <div class="mb-4">
                <label for="inputImage" class="form-label">Nouvelle Image</label>
                <input type="file" class="form-control" id="inputGroupFile02" name="image" accept="image/*">
                <!-- (change)="getFile($event)" -->
              </div>

              <div class="mb-3">
                <label for="descriptionArticle">Nouvelle Description:</label>
                <textarea class="form-control description-article" type="text" id="descriptif" name="descriptif"
                  [(ngModel)]="descriptif" required></textarea>
              </div>

              <button class="btn btn-add" type="submit">Modifier</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- modal details d'un plat -->

    <!-- Modal -->
    <div class="modal fade modal-lg" id="exampledetailsplats" tabindex="-1" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Le details du plat : {{libelle}}</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body d-flex gap-3">
            <div>
              <img class="imgdiminuer" src="{{ image }}" alt="image du plat" >
            </div>
            <div>
              <h5 class="fw-bold">le prix : <span class="fw-light colorerr"> {{prix}} fcfa</span> </h5>
              <h5 class="fw-bold">La description : <span class="fw-light colorerr">{{descriptif}}</span></h5>
              <h5 class="fw-bold">La date de création : <span class="fw-light colorerr ">{{ created_at | date: 'dd MMMM yyyy' }}</span></h5>
            </div>
            <div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-light" data-bs-dismiss="modal">Fermer</button>
            <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
          </div>
        </div>
      </div>
    </div>
